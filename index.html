<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Ê†ºÈóò„Çø„Ç§„Éî„É≥„Ç∞„Ç≤„Éº„É†</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #111;
      color: white;
      font-family: sans-serif;
      text-align: center;
    }

    h1 { margin-top: 20px; }

    #info {
      margin: 10px 0;
      font-size: 18px;
    }

    #game-container {
      display: flex;
      justify-content: center;
      align-items: flex-end;
      height: 250px;
      margin: 20px 0;
      position: relative;
    }

    .fighter {
      width: 100px;
      height: 180px;
      background: #444;
      margin: 0 40px;
      border-radius: 20px;
      position: relative;
      transition: transform 0.3s ease;
    }

    .fighter.dead {
      filter: grayscale(100%) brightness(0.5);
    }

    .face {
      width: 70px;
      height: 70px;
      background: #fbc;
      border-radius: 50%;
      margin: 15px auto 0;
      position: relative;
    }

    .eye {
      width: 10px;
      height: 10px;
      background: #000;
      border-radius: 50%;
      position: absolute;
      top: 25px;
    }

    .eye.left { left: 15px; }
    .eye.right { right: 15px; }

    .arm, .enemy-arm {
      width: 20px;
      height: 60px;
      background: #a52a2a;
      position: absolute;
      top: 70px;
      border-radius: 10px;
      transform-origin: top center;
    }

    .arm { left: 0; }
    .enemy-arm { right: 0; }

    @keyframes punch {
      0% { transform: rotate(0deg) translateX(0); }
      50% { transform: rotate(-20deg) translateX(30px); }
      100% { transform: rotate(0deg) translateX(0); }
    }

    .player-attack .arm {
      animation: punch 0.4s ease;
    }

    #word {
      font-size: 36px;
      margin: 20px 0;
      color: #6f6;
    }

    input {
      font-size: 24px;
      padding: 10px;
      width: 300px;
      text-align: center;
    }

    #result {
      margin-top: 20px;
      font-size: 24px;
      color: #ff0;
    }

    #startBtn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 18px;
    }

    #score-board {
      margin: 10px;
      font-size: 18px;
      color: #ccc;
    }
  </style>
</head>
<body>

<h1>Ê†ºÈóò„Çø„Ç§„Éî„É≥„Ç∞„Ç≤„Éº„É†</h1>

<div id="info">
  ÊôÇÈñì: <span id="timer">60</span>Áßí
</div>

<div id="score-board">
  „Çπ„Ç≥„Ç¢: <span id="score">0</span> |
  „Éè„Ç§„Çπ„Ç≥„Ç¢: <span id="highscore">0</span>
</div>

<div id="game-container">
  <div id="player" class="fighter">
    <div class="face">
      <div class="eye left"></div>
      <div class="eye right"></div>
    </div>
    <div class="arm"></div>
  </div>
  <div id="enemy" class="fighter">
    <div class="face">
      <div class="eye left"></div>
      <div class="eye right"></div>
    </div>
    <div class="enemy-arm"></div>
  </div>
</div>

<div id="word">„Çπ„Éö„Éº„Çπ„Ç≠„Éº„Åã„Éú„Çø„É≥„Åß„Çπ„Çø„Éº„ÉàÔºÅ</div>
<input type="text" id="input" disabled />
<div id="result"></div>
<button id="startBtn">„Çπ„Çø„Éº„Éà</button>

<script>
  const words = [
    "„Åì„Çì„Å´„Å°„ÅØ", "„ÅÇ„Çä„Åå„Å®„ÅÜ", "„Åï„Çà„ÅÜ„Å™„Çâ", "„Åô„Åø„Åæ„Åõ„Çì", "„Åä„ÅØ„Çà„ÅÜ", "„Åå„Çì„Å∞„Å£„Å¶", "„Åü„ÅÆ„Åó„ÅÑ", "„Å≠„Åì", "„ÅÑ„Å¨", "„Åô„Åó",
    "„ÇÑ„Åæ„Å†", "„Åü„Å™„Åã", "„Åª„Çì", "„Åø„Åö", "„Åç„Çá„ÅÜ", "„Åõ„Çì„Åõ„ÅÑ", "„Åå„Åè„Åõ„ÅÑ", "„Åß„Çì„Çè", "„Åò„Å¶„Çì„Åó„ÇÉ", "„Åè„Çã„Åæ",
    "„Åª„Çì„ÇÑ", "„Å®„Åë„ÅÑ", "„Åä„Åã„Å≠", "„Åè„Å†„ÇÇ„ÅÆ", "„ÇÑ„Åï„ÅÑ", "„Åî„ÅØ„Çì", "„Åø„Åù„Åó„Çã", "„É©„Éº„É°„É≥", "„Ç´„É¨„Éº", "„Çµ„ÉÉ„Ç´„Éº",
    "„Éê„Çπ„Ç±„ÉÉ„Éà", "„ÉÜ„Éã„Çπ", "„Åà„ÅÑ„Åå", "„Åä„Çì„Åå„Åè", "„Ç≤„Éº„É†", "„Å®„ÇÇ„Å†„Å°", "„Åç„Çá„ÅÜ„Å†„ÅÑ", "„Åã„Åû„Åè", "„Åå„Å£„Åì„ÅÜ", "„Åå„ÅÑ„Åì„Åè",
    "„Å´„Åª„Çì", "„Åõ„Åã„ÅÑ", "„Åù„Çâ", "„ÅÜ„Åø", "„ÇÑ„Åæ", "„Åã„Çè", "„ÅØ„Å™", "„Åç", "„Å©„ÅÜ„Å∂„Å§", "„Å®„Çä", "„Åï„Åã„Å™", "„Åã„Åà„Çã", "„Å∏„Å≥",
    "„Åè„Åæ", "„Åû„ÅÜ", "„Çâ„ÅÑ„Åä„Çì", "„Å®„Çâ", "„ÅÜ„Åó", "„Å∂„Åü", "„Å´„Çè„Å®„Çä", "„Åü„Åæ„Åî", "„Éë„É≥", "„Ç∏„É•„Éº„Çπ", "„Åø„Åã„Çì", "„Çä„Çì„Åî",
    "„Éê„Éä„Éä", "„Å∂„Å©„ÅÜ", "„ÇÇ„ÇÇ", "„Åô„ÅÑ„Åã", "„Å™„Åó", "„ÅÑ„Å°„Åî", "„Åï„Åè„Çâ„Çì„Åº", "„Åã„Åç", "„Åã„Åº„Å°„ÇÉ", "„Å´„Çì„Åò„Çì", "„Åü„Åæ„Å≠„Åé",
    "„Åò„ÇÉ„Åå„ÅÑ„ÇÇ", "„Éà„Éû„Éà", "„Ç≠„É£„Éô„ÉÑ", "„É¨„Çø„Çπ", "„Åç„ÇÖ„ÅÜ„Çä", "„Å™„Åô", "„Éî„Éº„Éû„É≥", "„Ç≥„Éº„É≥", "„Å®„ÅÜ„ÇÇ„Çç„Åì„Åó", "„Åª„ÅÜ„Çå„Çì„Åù„ÅÜ",
    "„Å´„Çâ", "„Åó„Çá„ÅÜ„Åå", "„Å´„Çì„Å´„Åè", "„Åï„Å®„ÅÜ", "„Åó„Åä", "„Åì„Åó„Çá„ÅÜ", "„Åó„Çá„ÅÜ„ÇÜ", "„Åø„Çä„Çì", "„Å®„Çä„Å´„Åè", "„Å∂„Åü„Å´„Åè", "„Åé„ÇÖ„ÅÜ„Å´„Åè"
  ];

  const input = document.getElementById('input');
  const wordElem = document.getElementById('word');
  const timerElem = document.getElementById('timer');
  const scoreElem = document.getElementById('score');
  const resultElem = document.getElementById('result');
  const startBtn = document.getElementById('startBtn');
  const player = document.getElementById('player');
  const enemy = document.getElementById('enemy');
  const highscoreElem = document.getElementById('highscore');

  let currentWord = '';
  let score = 0;
  let timeLeft = 60;
  let timer;
  let enemyHP = 100;
  let highscore = parseInt(localStorage.getItem('highscore') || "0");

  highscoreElem.textContent = highscore;

  function pickWord() {
    return words[Math.floor(Math.random() * words.length)];
  }

  function updateWord() {
    currentWord = pickWord();
    wordElem.textContent = currentWord;
  }

  function startGame() {
    score = 0;
    timeLeft = 60;
    enemyHP = 100;
    enemy.classList.remove('dead');
    input.disabled = false;
    input.value = '';
    input.focus();
    startBtn.disabled = true;
    scoreElem.textContent = score;
    timerElem.textContent = timeLeft;
    resultElem.textContent = '';
    updateWord();

    timer = setInterval(() => {
      timeLeft--;
      timerElem.textContent = timeLeft;
      if (timeLeft <= 0) {
        clearInterval(timer);
        input.disabled = true;
        startBtn.disabled = false;

        if (enemyHP <= 0) {
          resultElem.textContent = `üéâ „ÇØ„É™„Ç¢ÔºÅÂÄí„Åó„ÅüÔºÅ„Çπ„Ç≥„Ç¢: ${score}`;
        } else {
          resultElem.textContent = `üíÄ „Çø„Ç§„É†„Ç¢„ÉÉ„ÉóÔºÅÊïµ„ÅåÁîü„ÅçÊÆã„Å£„Åü‚Ä¶„Çπ„Ç≥„Ç¢: ${score}`;
        }

        if (score > highscore) {
          highscore = score;
          localStorage.setItem('highscore', highscore);
          highscoreElem.textContent = highscore;
        }
      }
    }, 1000);
  }

  function onCorrectInput() {
    score++;
    scoreElem.textContent = score;

    player.classList.add('player-attack');

    if (enemyHP > 0) {
      enemyHP -= 10;
      if (enemyHP <= 0) {
        enemy.classList.add('dead');
      }
    }

    setTimeout(() => {
      player.classList.remove('player-attack');
    }, 400);

    setTimeout(() => {
      input.value = '';
      updateWord();
    }, 400);
  }

  input.addEventListener('input', () => {
    if (input.value === currentWord) {
      onCorrectInput();
    }
  });

  startBtn.addEventListener('click', startGame);

  // „Çπ„Éö„Éº„Çπ„Ç≠„Éº„Åß„Ç≤„Éº„É†ÈñãÂßã
  document.addEventListener('keydown', (e) => {
    if ((e.code === "Space" || e.key === " ") && !startBtn.disabled) {
      e.preventDefault(); // „Çπ„ÇØ„É≠„Éº„É´Èò≤Ê≠¢
      startGame();
    }
  });
</script>

</body>
</html>
